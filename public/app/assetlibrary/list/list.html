<div data-ng-controller="AssetLibraryListController">

  <div class="row assetlibrary-list-top">
    <!-- SEARCH -->
    <div class="col-xs-8">
      <form class="form-inline assetlibrary-list-search-form">
        <label for="assetlibrary-list-search" class="sr-only">Search Asset Library</label>
        <div class="input-group assetlibrary-list-search-container">
          <input type="text" id="assetlibrary-list-search" class="form-control" placeholder="Search">
          <button class="btn btn-link assetlibrary-list-search-advanced" title="Advanced search">
            <i class="fa fa-caret-down">
              <span class="sr-only">Advanced search</span>
            </i>
          </button>
          <span class="input-group-btn">
            <button type="submit" class="btn btn-default" title="Search">
              <i class="fa fa-search">
                <span class="sr-only">Search</span>
              </i>
            </button>
          </span>
        </div>
      </form>
    </div>

    <!-- MANAGE CATEGORIES -->
    <div class="col-xs-4 text-right">
      <a data-ng-href="/assetlibrary/managecategories" data-ng-if="me.is_admin" class="btn btn-default">
        <i class="fa fa-cog"></i>
        <span>Manage categories</span>
      </a>
    </div>
  </div>

  <div class="assetlibrary-list-container" data-infinite-scroll="getAssets()" data-infinite-scroll-disabled="list.isLoading" data-infinite-scroll-distance="1">
    <ul>
      <!-- UPLOAD / ADD LINK -->
      <li class="list-inline col-xs-6 col-sm-4 col-md-3">
        <div class="assetlibrary-list-item-container assetlibrary-list-add-tile">
          <div class="assetlibrary-list-item-tile">
            <div class="assetlibrary-list-item-add-container">
              <div class="assetlibrary-list-item-add-table">
                <a data-ng-href="/assetlibrary/upload" class="text-center col-pane">
                  <i class="fa fa-laptop"></i>
                  <div class="assetlibrary-list-item-add-action">Upload</div>
                </a>
                <a data-ng-href="/assetlibrary/addlink" class="text-center col-pane">
                  <i class="fa fa-globe"></i>
                  <div class="assetlibrary-list-item-add-action">Add URL</div>
                </a>
                <!-- <a data-ng-href="/assetlibrary/addthought" class="text-center col-pane">
                  <i class="fa fa-comment"></i>
                  <div class="assetlibrary-list-item-add-action">Add a thought</div>
                </a> -->
              </div>
            </div>
          </div>
          <div class="assetlibrary-list-item-actions">
            <a data-ng-href="/assetlibrary/addbookmarklet">Add inspiration from anywhere</a>
          </div>
        </div>
      </li>
      <!-- LIST ITEM -->
      <li class="list-inline col-xs-6 col-sm-4 col-md-3" data-ng-repeat="asset in assets">
        <div class="assetlibrary-list-item-container">
          <a data-ng-href="/assetlibrary/{{asset.id}}">
            <div class="assetlibrary-list-item-tile">
              <img class="img-responsive" data-ng-src="{{asset.url}}" data-ng-if="asset.thumbnail_url">
              <div class="text-center assetlibrary-list-item-thumbnail-default" data-ng-if="!asset.thumbnail_url">
                <i class="fa fa-link"></i>
              </div>
              <div class="assetlibrary-list-item-metadata">
                <h3 class="col-threedots">{{asset.title}}</h3>
                <small class="col-threedots">by {{asset.user.canvas_full_name}}</small>
              </div>
            </div>
          </a>
          <div class="text-right assetlibrary-list-item-actions" iconbar asset="asset"></div>
        </div>
      </li>
    </ul>
  </div>
</div>
